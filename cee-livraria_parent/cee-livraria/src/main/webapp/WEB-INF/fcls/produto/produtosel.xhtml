<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:plcf="http://www.powerlogic.com.br/plcf" 
	xmlns:tr="http://myfaces.apache.org/trinidad" 
	xmlns:trh="http://myfaces.apache.org/trinidad/html">  
	<ui:composition template="/fcls/template/PlcGeralTemplate.xhtml"> 
		<ui:define name="plc-corpo-formulario"> 
			<div id="plc-form-basico"> 
				<div id="#{plcAliasPrefixoAction}Arg" class="plc-form-basico-topo"> 
					<plcf:tabela tituloChave="produtoarg.titulo"> 
						<plcf:linha> 
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.codigoBarras']}"/>  
								<plcf:texto id="codigoBarras" value="#{produto.codigoBarras}" ajudaChave="ajuda.codigoBarras" tamanho="15"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.titulo']}"/>  
								<plcf:texto id="titulo" value="#{produto.titulo}" ajudaChave="ajuda.titulo" tamanho="30"/> 
							</plcf:celula>  
							<plcf:celula > 
								<plcf:titulo value="#{msg['label.palavrasChave']}"/>  
								<plcf:texto id="palavrasChave" value="#{produto.palavrasChave}" ajudaChave="ajuda.palavrasChave" tamanho="30"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.tipoProduto']}"/>  
								<plcf:comboEstatico id="tipoProduto" value="#{produto.tipoProduto}" dominio="TipoProduto" ajudaChave="ajuda.tipoProduto" /> 
							</plcf:celula>  
						</plcf:linha> 
					</plcf:tabela> 
				</div>
				<div id="#{plcAliasPrefixoAction}Sel" class="plc-form-basico-sel"> 
					<script type="text/javascript">//<![CDATA[
					plc.jq(document).ready(function(){
						plc.jq("#corpo\\:formulario\\:codigoBarras").on("change", function() {
							plc.jq( "#corpo\\:formulario\\:botaoAcaoPesquisar" ).trigger( "click" );
						});
						plc.jq("#corpo\\:formulario\\:tipoProduto").on("change", function() {
							plc.jq( "#corpo\\:formulario\\:botaoAcaoPesquisar" ).trigger( "click" );
						});
						plc.jq(document).keydown(function(e) {
							if(e.which == 13) {
								plc.jq( "#corpo\\:formulario\\:botaoAcaoPesquisar" ).trigger( "click" );
							}
						});
					});
	jQuery(function(){plc.criaSelecaoJqGrid('plc-grid','plc-grid-navegador',{
		evento:'${param.evento}',
			modoJanelaPlc:'${param.modoJanelaPlc}',
			rowNum:'30',
			nomeLogica:'produto',
			propAgregada:'produto',
			jqGrid:{caption:
				'#{msg['produto.titulo']}',
				colNames:[
					'#{msg['label.codigoBarras']}',
					'#{msg['label.tipoProduto']}',
					'#{msg['label.titulo']}',
					'#{msg['label.palavrasChave']}',
					'#{msg['label.preco.venda.sugerido']}',
					'#{msg['label.quantidadeEstoque']}'],
				colModel:[
					{name:'codigoBarras',index:'codigoBarras', width:'50px', align:'center'},
					{name:'tipoProduto',index:'tipoProduto', width:'40px', align:'center'},
					{name:'titulo',index:'titulo', width:'250px'},
					{name:'palavrasChave',index:'palavrasChave', width:'100px'},
					{name:'precoVendaSugerido',index:'precoVendaSugerido', width:'50px', align:'right'},
					{name:'quantidadeEstoque',index:'quantidadeEstoque', width:'50px', align:'center', sortable:false}]},
			urlEdicao:'#{request.contextPath}/f/n/produtoman'});});//]]> </script>  
					<table id="plc-grid" width="100%" class="scroll" cellpadding="0" cellspacing="0"/>  
					<div id="plc-grid-navegador" class="scroll" style="text-align:center;"/> 
				</div> 
			</div> 
		</ui:define> 
	</ui:composition> 
</html>
